<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>RunMeasure ‚Ä¢ Options</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="wrap">
    <header class="card center">
      <h1 class="brand">RunMeasure</h1>
      <div class="chips">
        <a class="btn btn-ghost" href="index.html">‚Üê Accueil</a>
        <a class="btn btn-ghost" href="help.html">Aide</a>
        <a class="btn btn-ghost" href="safety.html">Fiche s√©curit√©</a>
      </div>
    </header>

    <section class="card">
      <h2 class="center">Informations √©l√®ve</h2>
      <div class="row">
        <div>
          <label for="nom" class="badge">Nom</label>
          <input id="nom" type="text" placeholder="Martin">
        </div>
        <div>
          <label for="prenom" class="badge">Pr√©nom</label>
          <input id="prenom" type="text" placeholder="Julie">
        </div>
      </div>
      <div class="row">
        <div>
          <label for="classe" class="badge">Classe</label>
          <input id="classe" type="text" placeholder="2nde 4">
        </div>
        <div>
          <label for="sexe" class="badge">Sexe</label>
          <select id="sexe">
            <option value="">‚Äî</option>
            <option value="fille">Fille</option>
            <option value="garcon">Gar√ßon</option>
            <option value="autre">Autre</option>
          </select>
        </div>
      </div>
      <div class="center" style="margin-top:8px">
        <button id="save-eleve" class="btn btn-ghost">üíæ Enregistrer l‚Äô√©l√®ve</button>
      </div>
    </section>

    <section class="card">
      <h2 class="center">Choisir un mode</h2>
      <div class="grid">
        <a class="btn btn-primary btn-wide go" data-mode="chrono">Chrono</a>
        <a class="btn btn-primary btn-wide go" data-mode="minuteur">Minuteur</a>
        <a class="btn btn-primary btn-wide go" data-mode="chrono_vitesse">Chrono avec calcul de vitesse</a>
        <a class="btn btn-primary btn-wide go" data-mode="minuteur_distance">Minuteur avec distance</a>
        <a class="btn btn-primary btn-wide go" data-mode="intermediaire">Temps interm√©diaire</a>
        <a class="btn btn-primary btn-wide go" data-mode="demi_cooper">Demi-Cooper (6‚Ä≤)</a>
        <a class="btn btn-primary btn-wide go" data-mode="cooper">Cooper (12‚Ä≤)</a>
      </div>
    </section>

    <footer class="muted center">Pack EPS iPad</footer>
  </div>

  <script>
    function getEleve(){ try{const raw=localStorage.getItem('eleve'); if(raw) return JSON.parse(raw);}catch{} return {nom:'',prenom:'',classe:'',sexe:''}; }
    function setEleve(e){ try{localStorage.setItem('eleve', JSON.stringify(e));}catch{} }
    function loadForm(){ const e=getEleve(); const ids=['nom','prenom','classe','sexe']; ids.forEach(id=>{ if(e[id]) document.getElementById(id).value=e[id]; }); }
    function readForm(){ return { nom:nom.value.trim(), prenom:prenom.value.trim(), classe:classe.value.trim(), sexe:sexe.value.trim().toLowerCase() }; }
    document.addEventListener('DOMContentLoaded',()=>{
      loadForm();
      document.getElementById('save-eleve').addEventListener('click', ()=>{ setEleve(readForm()); alert('√âl√®ve enregistr√© ‚úÖ'); });
      document.querySelectorAll('a.go').forEach(a=>{
        a.addEventListener('click',(ev)=>{ ev.preventDefault(); setEleve(readForm()); const mode=a.getAttribute('data-mode'); location.href=`mode.html?mode=${encodeURIComponent(mode)}`; });
      });
    });
  </script>
</body>
</html>
