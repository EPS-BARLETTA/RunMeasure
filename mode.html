<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Mode ‚Ä¢ RunMeasure</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="wrap">
    <header class="center">
      <h1 class="brand">RunMeasure</h1>
      <div class="chips">
        <a class="btn btn-ghost" href="options.html">‚Üê Options</a>
        <a class="btn btn-ghost" href="safety.html">Fiche s√©curit√©</a>
        <a class="btn btn-ghost" href="aide.html">Aide</a>
        <button id="btn-full" class="btn btn-primary">‚õ∂ Plein √©cran</button>
      </div>
    </header>

    <section class="card smallish" id="params">
      <h2>Param√®tres</h2>

      <!-- Champ distance simple (Chrono + Vitesse, Interm√©diaires si besoin) -->
      <div class="row" id="row-distance" style="display:none">
        <div>
          <label class="badge" for="distance-input">Distance (m)</label>
          <input id="distance-input" type="number" min="0" placeholder="ex: 800">
        </div>
      </div>

      <!-- Piste pour Cooper / 1/2 Cooper / Minuteur + Distance -->
      <div class="row" id="row-track" style="display:none">
        <div>
          <label class="badge" for="track-length">Longueur de piste (m)</label>
          <input id="track-length" type="number" min="50" step="1" value="400">
        </div>
      </div>

      <!-- Minuteur : roues H/M/S (compact) -->
      <div class="row" id="row-timer" style="display:none">
        <div class="wheel">
          <label class="badge">H</label>
          <select id="wh-h"></select>
        </div>
        <div class="wheel">
          <label class="badge">M</label>
          <select id="wh-m"></select>
        </div>
        <div class="wheel">
          <label class="badge">S</label>
          <select id="wh-s"></select>
        </div>
      </div>

      <!-- Interm√©diaires : distance totale + pas -->
      <div class="row" id="row-intervalles" style="display:none">
        <div>
          <label class="badge" for="total-distance">Distance totale (m)</label>
          <input id="total-distance" type="number" min="100" step="50" value="800">
        </div>
        <div>
          <label class="badge" for="split-step">Pas d'interm√©diaire (m)</label>
          <input id="split-step" type="number" min="50" step="50" value="200">
        </div>
      </div>

      <p id="hint" class="muted"></p>
    </section>

    <!-- Gros contr√¥les centraux -->
    <section class="card center big-controls">
      <div class="chips">
        <button id="btn-start" class="btn btn-ok">‚ñ∂Ô∏è D√©marrer</button>
        <button id="btn-lap" class="btn btn-ghost" style="display:none">üèÅ Interm√©diaire / Tour</button>
        <button id="btn-stop" class="btn btn-warn" disabled>‚è∏Ô∏è Stop</button>
        <button id="btn-reset" class="btn btn-danger" disabled>üîÑ Reset</button>
        <button id="btn-qr" class="btn btn-ghost">üì± QR JSON</button>
      </div>
    </section>

    <!-- Affichages -->
    <section class="card" id="results">
      <h2>Affichage</h2>

      <div class="grid">
        <div class="card center">
          <div class="sub">Temps</div>
          <div id="time" class="stat">00:00</div>
        </div>

        <div class="card center" id="box-speed" style="display:none">
          <div class="sub">Vitesse</div>
          <div id="speed" class="stat">‚Äî</div>
        </div>

        <div class="card center" id="box-distance" style="display:none">
          <div class="sub">Distance</div>
          <div id="distance" class="stat">‚Äî</div>
        </div>
      </div>

      <!-- Tableau Interm√©diaires -->
      <div id="splits-wrap" style="display:none;margin-top:12px">
        <h3>Interm√©diaires</h3>
        <table id="splits-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Distance cumul√©e (m)</th>
              <th>Temps cumul√©</th>
              <th>Vitesse instantan√©e</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <!-- QR (masqu√© automatiquement pour Chrono/Minuteur) -->
      <div id="qr-box" style="display:none">
        <h3>QR JSON</h3>
        <div id="qr" style="width:220px;height:220px;"></div>
        <pre id="qr-json" class="code"></pre>
      </div>
    </section>

    <!-- Plein √©cran Chrono / Minuteur -->
    <div id="fs-chrono" class="fullscreen">
      <div id="fs-time" class="time-big">00:00</div>
    </div>

    <div id="fs-countdown" class="fullscreen">
      <div class="circle"><canvas id="cd-canvas"></canvas></div>
      <div id="cd-time" class="time-big" style="margin-top:18px">00:00</div>
    </div>
  </div>

  <!-- ‚ö†Ô∏è Ordre crucial des scripts : d'abord la lib QR locale, puis app.js -->
  <script defer src="qrcode.min.js"></script>
  <script defer src="app.js"></script>

  <footer>RunMeasure - Equipe EPS Lyc√©e Vauban - LUXEMBOURG  - JB</footer>
</body>
</html>
